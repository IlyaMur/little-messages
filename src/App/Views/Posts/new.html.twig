{% extends "base.html.twig" %}

{% block title %}New Post
{% endblock %}
{% block body %}
	<a href="{{ APP_ROOT }}" class="btn btn-light">
		<i class="fa fa-backward"></i>
		Back
	</a>
	<div class="card card-body bg-light mt-3">
		{% include "partials/_flash.html.twig" %}
		<div class="text-center">
			<h2>
				Add Post
			</h2>
			<p>Create a post with this form</p>
		</div>
		<form id="formPost" enctype="multipart/form-data" action="{{ APP_ROOT }}posts/create" method="post">

			{% if post.errors is not empty %}
				<p>Errors:</p>
				<ul>
					{% for error in post.errors %}
						<li>{{ error }}</li>
					{% endfor %}
				</ul>
			{% endif %}

			<div class="form-group">
				<label for="inputTitle">Title:
					<sup>*</sup>
				</label>
				<input value="{{ post.title }}" type="text" name="title" id="inputTitle" class="form-control form-control-lg" autofocus>

			</div>
			<div class="form-group">
				<label for="inputBody">Post:<sup>*</sup>
				</label>

				<div class="input-group">
					<textarea id="body" name="body" type="text" class="form-control form-control-lg">{{ post.body }}</textarea>

				</div>
			</div>
			<div class="form-group">
				<label for="formFile" class="form-label">Add post cover
					<i>(max size: 250kb)</i>
				</label>
				<input name='coverImage' accept="image/*" class="form-control" type="file" id="formFile">
			</div>

			<button type="submit" class="btn btn-success">Submit</button>
		</form>
		<br>
	</div>

{% endblock %}
